extends layout.pug 



block content 
    h1(class='welcome') Welcome to MusicMatcher, #{user.id}
    img(src= user.images[1].url, class='circular-image')
    
    h2: a(href = 'playlist' class='btn') My Playlists     

    h2: a(href = 'newplaylist' class='btn') Create Playlist

    h2: a(href = 'newplaylistartist' class='btn') Create Playlist Based on Most Played Artist

    h2: a(href = 'newplaylistsongs' class='btn') Create Playlist Based on Most Played Songs

    form(action='/search' method='get')
        input(type='text' name='query' placeholder='Search playlists...' required)
        button(type='submit') Search

    table
        each t in tracks
            tr 
                - var artist_name = t.track.artists[0].name
                - var track_name = t.track.name
                - var track_preview = t.track.preview_url
                - var artist_id = t.track.artists[0].id
                - var track_id = t.track.id

                td #{artist_name}
                td: a(href='/recommendations?artist=' + artist_id + '&track=' + track_id class='link') #{track_name}
                td: a(href=track_preview class='link') Preview

    